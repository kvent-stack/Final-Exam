[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "PA 446 Final Project: Neighborhood Retail Access in Chicago",
    "section": "",
    "text": "Chicago faces persistent disparities in food access, with grocery stores disproportionately clustered in higher-income neighborhoods. This project examines how access to grocery stores varies across Chicago’s community areas, and how those patterns align with socioeconomic conditions. The analysis uses API-retrieved point-level data for food retailers and Census API demographics merged with community-area geometries."
  },
  {
    "objectID": "index.html#choose-a-civic-problem-define-research-question",
    "href": "index.html#choose-a-civic-problem-define-research-question",
    "title": "PA 446 Final Project: Neighborhood Retail Access in Chicago",
    "section": "",
    "text": "Chicago faces persistent disparities in food access, with grocery stores disproportionately clustered in higher-income neighborhoods. This project examines how access to grocery stores varies across Chicago’s community areas, and how those patterns align with socioeconomic conditions. The analysis uses API-retrieved point-level data for food retailers and Census API demographics merged with community-area geometries."
  },
  {
    "objectID": "index.html#data-acquisition",
    "href": "index.html#data-acquisition",
    "title": "PA 446 Final Project: Neighborhood Retail Access in Chicago",
    "section": "0.2 Data Acquisition",
    "text": "0.2 Data Acquisition\nTo build a reproducible pipeline for measuring neighborhood-level food retail access, I acquired two primary datasets through API calls: (1) Chicago’s business license dataset, which includes active food retailers, and (2) Chicago’s community area boundary file, which defines the geographic units of analysis. I also accessed tract-level population estimates from the 2022 American Community Survey (ACS) using the Census API.\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(sf)\n\nLinking to GEOS 3.13.0, GDAL 3.8.5, PROJ 9.5.1; sf_use_s2() is TRUE\n\nlibrary(tigris)\n\nTo enable caching of data, set `options(tigris_use_cache = TRUE)`\nin your R script or .Rprofile.\n\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(arrow)\n\n\nAttaching package: 'arrow'\n\nThe following object is masked from 'package:lubridate':\n\n    duration\n\nThe following object is masked from 'package:utils':\n\n    timestamp\n\nlibrary(knitr)\nlibrary(scales)\n\n\nAttaching package: 'scales'\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(purrr)\nlibrary(tidyr)\nlibrary(leaflet)\nlibrary(tidycensus)\n\n# Business license API pull\nbiz_url &lt;- \"https://data.cityofchicago.org/resource/xqx5-8hwx.geojson?$limit=50000\"\nbiz &lt;- st_read(biz_url)\n\nReading layer `OGRGeoJSON' from data source \n  `https://data.cityofchicago.org/resource/xqx5-8hwx.geojson?$limit=50000' \n  using driver `GeoJSON'\nreplacing null geometries with empty geometries\nSimple feature collection with 50000 features and 40 fields (with 4646 geometries empty)\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -87.9069 ymin: 41.64467 xmax: -87.5248 ymax: 42.02266\nGeodetic CRS:  WGS 84\n\n# Community area boundaries API pull\nchi_comm &lt;- st_read(\"https://data.cityofchicago.org/resource/igwz-8jzy.geojson?$limit=1000\") %&gt;%\n  janitor::clean_names()\n\nReading layer `OGRGeoJSON' from data source \n  `https://data.cityofchicago.org/resource/igwz-8jzy.geojson?$limit=1000' \n  using driver `GeoJSON'\nSimple feature collection with 77 features and 5 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -87.94011 ymin: 41.64454 xmax: -87.52414 ymax: 42.02304\nGeodetic CRS:  WGS 84\n\nif (\"community_area_name\" %in% names(chi_comm)) {\n  chi_comm &lt;- chi_comm %&gt;% rename(community = community_area_name)\n}\n\n# ACS tract-level population\nacs_tracts &lt;- get_acs(\n  geography = \"tract\",\n  variables = \"B01003_001\",\n  state = \"IL\",\n  county = \"Cook\",\n  year = 2022,\n  geometry = TRUE\n) %&gt;%\n  st_as_sf() %&gt;%\n  janitor::clean_names() %&gt;%\n  mutate(population = estimate) %&gt;%\n  select(-estimate)\n\nGetting data from the 2018-2022 5-year ACS\nDownloading feature geometry from the Census website.  To cache shapefiles for use in future sessions, set `options(tigris_use_cache = TRUE)`.\n\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |=======                                                               |  11%\n  |                                                                            \n  |========                                                              |  12%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |===========                                                           |  15%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |===============                                                       |  21%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |==================                                                    |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |=====================                                                 |  29%\n  |                                                                            \n  |=====================                                                 |  31%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |========================                                              |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |============================                                          |  39%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |=============================                                         |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |===============================                                       |  45%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |==================================                                    |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |=====================================                                 |  52%\n  |                                                                            \n  |=====================================                                 |  54%\n  |                                                                            \n  |======================================                                |  55%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |========================================                              |  57%\n  |                                                                            \n  |=========================================                             |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |===========================================                           |  61%\n  |                                                                            \n  |============================================                          |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |=============================================                         |  65%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |===============================================                       |  68%\n  |                                                                            \n  |================================================                      |  69%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |===================================================                   |  72%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |=====================================================                 |  75%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |======================================================                |  78%\n  |                                                                            \n  |=======================================================               |  79%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |=========================================================             |  82%\n  |                                                                            \n  |==========================================================            |  83%\n  |                                                                            \n  |===========================================================           |  84%\n  |                                                                            \n  |============================================================          |  85%\n  |                                                                            \n  |============================================================          |  86%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |==============================================================        |  89%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |================================================================      |  92%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |===================================================================   |  95%\n  |                                                                            \n  |===================================================================   |  96%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |===================================================================== |  98%\n  |                                                                            \n  |======================================================================| 100%\n\n\n##Data Wrangling & Quality Checks\nTo prepare the business license dataset, I filtered for active food retailers and verified that the remaining records were complete and correctly structured.\n\n# Filter for active food retailers\ngrocery &lt;- biz %&gt;%\n  filter(\n    license_status %in% c(\"AAI\", \"AAC\"),\n    license_description %in% c(\n      \"Retail Food Establishment\",\n      \"Wholesale Food Establishment\",\n      \"Package Goods\"\n    )\n  )\n\n# Quality check: missingness and basic structure\nmissing_check &lt;- sapply(grocery, function(x) sum(is.na(x)))\nn_rows &lt;- nrow(grocery)\nhead_rows &lt;- grocery %&gt;% st_drop_geometry() %&gt;% head()\n\nmissing_check\n\n                   license_status                    location_state \n                                0                                53 \n                  expiration_date                          zip_code \n                                0                                 8 \n                             city                      location_zip \n                                0                                53 \n             conditional_approval                        license_id \n                                0                                 0 \n                  police_district                          latitude \n                               25                                53 \n                            state     license_approved_for_issuance \n                                0                                 9 \n                     neighborhood                  location_address \n                               76                                53 \n             business_activity_id                     location_city \n                                0                                53 \n                    ward_precinct application_requirements_complete \n                                6                                 0 \n                     payment_date          application_created_date \n                               32                              8471 \n                        longitude                    account_number \n                               53                                 0 \n              license_description                          precinct \n                                0                                89 \n                      site_number                              ward \n                                0                                 8 \n                               id        license_status_change_date \n                                0                             10066 \n           doing_business_as_name                license_start_date \n                                0                                 1 \n                   community_area                 business_activity \n                               67                                 0 \n                          address                        legal_name \n                                0                                 0 \n              community_area_name                      license_code \n                               67                                 0 \n                              ssa                    license_number \n                             7006                                 0 \n                 application_type                       date_issued \n                                0                                 0 \n                         geometry \n                                0 \n\nn_rows\n\n[1] 10264\n\nhead_rows\n\n  license_status location_state expiration_date zip_code    city location_zip\n1            AAI                     2027-11-15    60639 CHICAGO             \n2            AAI                     2027-11-15    60609 CHICAGO             \n3            AAI                     2027-11-15    60636 CHICAGO             \n4            AAI                     2027-11-15    60634 CHICAGO             \n5            AAI                     2027-11-15    60623 CHICAGO             \n6            AAI                     2027-11-15    60632 CHICAGO             \n  conditional_approval license_id police_district      latitude state\n1                    N    3047042              25 41.9243559289    IL\n2                    N    3047094               9 41.8294626187    IL\n3                    N    3047082               7 41.7702787561    IL\n4                    N    3047076              25 41.9380818685    IL\n5                    N    3047087              10 41.8502905889    IL\n6                    N    3047069               8 41.8033557764    IL\n  license_approved_for_issuance   neighborhood location_address\n1                    2025-10-01 BELMONT CRAGIN                 \n2                    2025-10-03  MCKINLEY PARK                 \n3                    2025-10-03      ENGLEWOOD                 \n4                    2025-10-03      MONTCLARE                 \n5                    2025-10-03 NORTH LAWNDALE                 \n6                    2025-10-03      GAGE PARK                 \n  business_activity_id location_city ward_precinct\n1                  775                       31-23\n2            767 | 775                        12-3\n3      767 | 775 | 904                       17-59\n4            767 | 775                       36-28\n5            767 | 775                       22-19\n6                  775                       14-34\n  application_requirements_complete payment_date application_created_date\n1                        2025-09-15   2025-10-01                     &lt;NA&gt;\n2                        2025-09-15   2025-10-03                     &lt;NA&gt;\n3                        2025-09-15   2025-10-03                     &lt;NA&gt;\n4                        2025-09-15   2025-10-03                     &lt;NA&gt;\n5                        2025-09-15   2025-10-03                     &lt;NA&gt;\n6                        2025-09-15   2025-10-03                     &lt;NA&gt;\n       longitude account_number       license_description precinct site_number\n1 -87.7458495111          11071 Retail Food Establishment       23          46\n2 -87.6793915655          11071 Retail Food Establishment        3         158\n3 -87.6641124326          11071 Retail Food Establishment       59         145\n4 -87.7937332756          11071 Retail Food Establishment       28         136\n5 -87.7245782749          11071 Retail Food Establishment       19         151\n6 -87.7039840245          11071 Retail Food Establishment       34         119\n  ward               id license_status_change_date      doing_business_as_name\n1   31 1380531-20251116                       &lt;NA&gt;        FAMILY DOLLAR # 5539\n2   12 2744248-20251116                       &lt;NA&gt;        FAMILY DOLLAR #32601\n3   17 2432920-20251116                       &lt;NA&gt;        FAMILY DOLLAR #31464\n4   36 2289241-20251116                       &lt;NA&gt; FAMILY DOLLAR, INC. # 11064\n5   22 2583110-20251116                       &lt;NA&gt;        FAMILY DOLLAR #21940\n6   14 1801559-20251116                       &lt;NA&gt;               FAMILY DOLLAR\n  license_start_date community_area\n1         2025-11-16             19\n2         2025-11-16             59\n3         2025-11-16             67\n4         2025-11-16             18\n5         2025-11-16             29\n6         2025-11-16             63\n                                                                                                                     business_activity\n1                                                                                                     Retail Sales of Perishable Foods\n2                                       Retail Sales of General Merchandise and Non-Perishable Food | Retail Sales of Perishable Foods\n3 Retail Sales of General Merchandise and Non-Perishable Food | Retail Sales of Perishable Foods | Retail Sales of General Merchandise\n4                                       Retail Sales of General Merchandise and Non-Perishable Food | Retail Sales of Perishable Foods\n5                                       Retail Sales of General Merchandise and Non-Perishable Food | Retail Sales of Perishable Foods\n6                                                                                                     Retail Sales of Perishable Foods\n                      address         legal_name community_area_name\n1        4748 W FULLERTON AVE FAMILY DOLLAR, LLC      BELMONT CRAGIN\n2    3542 S ARCHER AVE 1ST FL FAMILY DOLLAR, LLC       MCKINLEY PARK\n3      6800 S ASHLAND AVE 1ST FAMILY DOLLAR, LLC      WEST ENGLEWOOD\n4 6711-6725 W BELMONT AVE 1ST FAMILY DOLLAR, LLC           MONTCLARE\n5           2239 S PULASKI RD FAMILY DOLLAR, LLC      NORTH LAWNDALE\n6         4936 S KEDZIE AVE 1 FAMILY DOLLAR, LLC           GAGE PARK\n  license_code  ssa license_number application_type date_issued\n1         1006 &lt;NA&gt;        1380531            RENEW  2025-12-05\n2         1006 &lt;NA&gt;        2744248            RENEW  2025-12-05\n3         1006 &lt;NA&gt;        2432920            RENEW  2025-12-05\n4         1006 &lt;NA&gt;        2289241            RENEW  2025-12-05\n5         1006 &lt;NA&gt;        2583110            RENEW  2025-12-05\n6         1006 &lt;NA&gt;        1801559            RENEW  2025-12-05\n\n\nQuality Check: The missingness check shows that while the dataset is structurally intact, several fields contain non-critical gaps—most notably application_created_date, license_status_change_date, and ssa. These variables are administrative fields that do not affect spatial accuracy or the ability to identify active food retailers, so their missingness does not threaten the integrity of the analysis. Core fields required for this project—license status, license type, latitude/longitude coordinates, and community identifiers—are complete enough for reliable filtering and spatial joins. With 10,210 active food retail records, the dataset offers robust coverage across the city.\nNext, I standardized coordinate systems for spatial alignment and assigned each food retailer to a community area through a point-in-polygon spatial join. I then aggregated food retail counts by community and checked for representation across all 77 areas.\n\n# Standardize CRS\ngrocery &lt;- st_transform(grocery, st_crs(chi_comm))\n\n# Spatial join to assign each retailer to a community area\ngrocery_joined &lt;- st_join(grocery, chi_comm, join = st_within)\n\n# Remove stores that fall outside community boundaries\ngrocery_joined &lt;- grocery_joined %&gt;%\n  filter(!is.na(community))\n\n# Count stores per community\nstore_counts &lt;- grocery_joined %&gt;%\n  st_drop_geometry() %&gt;%\n  count(community, name = \"store_count\")\n\n# Fix community naming inconsistencies (e.g., OHARE → O'HARE)\nstore_counts &lt;- store_counts %&gt;%\n  mutate(\n    community = recode(community,\n      \"OHARE\" = \"O'HARE\"\n    )\n  )\n\n# Quality check: distribution of counts + unique communities\nsummary(store_counts$store_count)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n    1.0    44.0    90.0   132.5   159.0   691.0 \n\nlength(unique(store_counts$community))\n\n[1] 77\n\n\nQuality Check: The spatial join successfully assigned nearly all food retailers to one of Chicago’s 77 community areas, but 62 records fell outside any boundary (primarily due to minor coordinate inconsistencies or locations near city edges). These were removed prior to aggregation to avoid artificially inflating totals or creating an unintended “78th” category.\nTo generate per-capita accessibility metrics, I pulled 2022 ACS total population estimates at the census tract level using the Census API, aligned the geometries with Chicago’s community boundaries, and used spatial intersection to aggregate tract populations into community-level totals.\n\n# Acquire ACS population estimates for Cook County tracts\nacs_tracts &lt;- get_acs(\n  geography = \"tract\",\n  variables = \"B01003_001\",\n  state = \"IL\",\n  county = \"Cook\",\n  year = 2022,\n  geometry = TRUE\n) %&gt;%\n  st_as_sf() %&gt;%\n  janitor::clean_names() %&gt;%\n  mutate(population = estimate) %&gt;%\n  select(population, geometry)\n\nGetting data from the 2018-2022 5-year ACS\n\n\nDownloading feature geometry from the Census website.  To cache shapefiles for use in future sessions, set `options(tigris_use_cache = TRUE)`.\n\n# Align ACS geometry to community CRS\nacs_tracts &lt;- st_transform(acs_tracts, st_crs(chi_comm))\n\n# Spatial intersection: assign tract population to community areas\ntract_comm_join &lt;- st_intersection(\n  acs_tracts,\n  chi_comm %&gt;% select(community, geometry)\n)\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\n# Aggregate population to the community level\ncomm_pop &lt;- tract_comm_join %&gt;%\n  st_drop_geometry() %&gt;%\n  group_by(community) %&gt;%\n  summarise(total_population = sum(population, na.rm = TRUE))\n\nsummary(comm_pop$total_population)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  20951   48792   75969   77754   96488  212908 \n\nnrow(comm_pop)\n\n[1] 77\n\nany(comm_pop$total_population == 0)\n\n[1] FALSE\n\n\nQuality Check: The aggregated ACS data return complete population estimates for all 77 community areas, with no zero-population values and no missing coverage. Population levels range from just over 20,000 in the smallest community to more than 200,000 in the largest, which aligns with Chicago’s known demographic structure. The absence of gaps or anomalies confirms that the tract-to-community spatial intersection performed correctly and that the resulting population totals are reliable for generating per-capita access measures.\nTo finalize the analytic dataset, I merged community polygons, aggregated population totals, and food retail counts into a single spatial dataframe, then computed a standardized measure of food access: stores per 10,000 residents.\n\n# Merge community polygons with store counts and population totals\nchi_final &lt;- chi_comm %&gt;%\n  left_join(store_counts, by = \"community\") %&gt;%\n  left_join(comm_pop, by = \"community\") %&gt;%\n  replace_na(list(store_count = 0)) %&gt;%\n  mutate(\n    stores_per_10k = (store_count / total_population) * 10000\n  )\n\n# Quality check: verify dataset completeness\nsummary(chi_final$stores_per_10k)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  0.000   8.069  10.740  14.477  18.985  54.777 \n\nnrow(chi_final)\n\n[1] 77\n\nany(is.na(chi_final$stores_per_10k))\n\n[1] FALSE\n\n\nQuality Check: The final merged dataset includes all 77 Chicago community areas, and the stores_per_10k metric contains no missing values, confirming successful alignment across the business license and ACS population datasets. The accessibility distribution ranges from 0 stores per 10,000 residents in the lowest-access community to approximately 55 per 10,000 residents in the highest, with a median around 10.6. This spread indicates substantial neighborhood variation in food retail density and confirms that the dataset is well-structured and ready for summary statistics, visualization, and regression modeling."
  }
]